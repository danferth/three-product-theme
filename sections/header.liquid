{%- comment -%}
This is a required section for the Shopify Theme Store.
It is available in the "Header" section in the theme editor.

Theme Store required settings
- Show announcement
- Text: message to announce
- Link: link of the announcement bar

Theme Store optional settings
- Home page only: only shows on the home page
{%- endcomment -%}


<section data-section-id="{{ section.id }}" data-section-type="header">


  {%- comment -%} header start {%- endcomment -%}
  <header role="banner" class="jumbotron jumbotron-fluid w-100 mb-3 p-0">
    
    {% if template.name == 'article' %}
    {% assign image_size = article.image.width | append:'x' %}
      <img class='article_jumbotron_image' src="{{ article.image | img_url: image_size }}" alt="{{ articla.title }}">
    {% endif %}

    <div class="jumbotron_container container-fluid px-0">

    {%- comment -%} logo {%- endcomment -%}
    {% if template.name != 'article' %}
    <div class="h1 jumbotron-logo">
      <a href="/" class="logo">
        {% include 'icon-just3logo' %}
      </a>
    </div>
    {% endif %}

    {%- comment -%} if we are on an article show article title instead of logo {%- endcomment -%}
    {% if template.name == 'article' %}
        <h1 class='article_header_title text-center d-none d-md-block'>{{ article.title }}</h1>
        {% endif %}
        
        {%- comment -%} cart {%- endcomment -%}
        {% if template.name != 'article' %}
          <a href="/cart" class='jumbotron-cart-link mt-5 mb-2'>
            {% include 'icon-cart' %}
            {{ 'layout.cart.title' | t }}
            ({{ cart.item_count }} {{ 'layout.cart.items_count' | t: count: cart.item_count }})
          </a>
        {% endif %}
        
      </div>
  </header>







  {%- comment -%}navigation{%- endcomment -%}
  <nav role="navigation" class='mb-3'>
    <div class="col-12">
    <ul class='nav justify-content-center'>
      {% for link in linklists[section.settings.menu].links %}
      {% if link.links != blank %}
      <li class='nav-item'>
        <a class='nav-link' href="{{ link.url }}">
          {{ link.title }}
          {% include 'icon-arrow-down' %}
        </a>
        <ul>
          {% for childlink in link.links %}
          <li>
            <a href="{{ childlink.url }}">
              {{ childlink.title }}
            </a>
          </li>
          {% endfor %}
        </ul>
      </li>
      {% else %}
      <li class='nav-item'>
        <a class='nav-link' href="{{ link.url }}">
          {{ link.title }}
        </a>
      </li>
      {% endif %}
      {% endfor %}
    </ul>
  </div>
  </nav>

  {%- comment -%} anouncement bar {%- endcomment -%}
  {%- if section.settings.announcement_bar_enabled -%}
  {%- if section.settings.announcement_bar_home_page_only == false or template.name == 'index' -%}
  <div class="container-md">
  <div class="row">
      <div class='col-12 alert alert-warning alert-dismissable fade show rounded-0 mb-3'>
        {%- if section.settings.announcement_bar_link != blank -%}
        <a href="{{ section.settings.announcement_bar_link }}">
          {{ section.settings.announcement_bar_text | escape }}
        </a>
        {%- else -%}
        <p>{{ section.settings.announcement_bar_text | escape }}</p>
        {%- endif -%}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
  </div>  
  {%- endif -%}
  {%- endif -%}


</section>

{% if template.name != 'article' %}
  {% if section.setings.header_image != 'blank' %}
    {% assign image_size = section.settings.header_image.width | append:'x' %}
    <style>
      .jumbotron {
        background: url({{ section.settings.header_image | img_url: image_size }}) no-repeat center center;
        background-size: 100% auto;
      }
      </style>
  {% else %}
    <style>
      .jumbotron {
        background: teal;
      }
    </style>
  {% endif %}
{% endif %}


{% if template.name == 'article' %}
  {% if article.image %}
  {% assign image_size = article.image.width | append:'x' %}
    <style>
      .jumbotron{
        position:relative;
      }
    .article_jumbotron_image{
      width:100%;
      height:auto;
    }
    .jumbotron_container{
      position:absolute;
      top:40%;
      left:0;
      z-index: 500;
    }
    </style>
  {% endif %}
{% endif %}



{% schema %}
{
"name": "Header",
"settings": [
{
"type": "header",
"content": "Announcement bar"
},
{
"type": "checkbox",
"id": "announcement_bar_enabled",
"label": "Show announcement",
"default": false
},
{
"type": "checkbox",
"id": "announcement_bar_home_page_only",
"label": "Show on home page only",
"default": true
},
{
"type": "text",
"id": "announcement_bar_text",
"label": "Announcement text",
"default": "Announce something here"
},
{
"type": "url",
"id": "announcement_bar_link",
"label": "Announcement link",
"info": "Optional"
},
{
"type": "header",
"content": "Header"
},
{
"type": "image_picker",
"id": "header_image",
"label": "Header background image"
},
{
"type": "link_list",
"id": "menu",
"label": "Menu",
"default": "main-menu"
}
]}
{% endschema %}